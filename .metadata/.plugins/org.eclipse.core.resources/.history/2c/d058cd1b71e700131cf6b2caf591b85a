package com.example.android_rspeak_v1;

import java.util.List;

import com.example.client_database_v1.RSpeakSQLiteHelper;
import com.example.client_database_v1.Thread;
import com.example.client_database_v1.ThreadsDataSource;

import android.content.Context;
import android.os.Bundle;
import android.support.v4.app.ListFragment;

public class QuestionsAnswersListFragment extends ListFragment {
	private Context context;
	
	public QuestionsAnswersListFragment(Context context)
	{
		this.context = context;
	}
	
	@Override
	public void onActivityCreated(Bundle savedInstanceState)
	{
		super.onActivityCreated(savedInstanceState);
		
		RSpeakSQLiteHelper dbHelper = new RSpeakSQLiteHelper( this.context );
        ThreadsDataSource threadsDataSource = new ThreadsDataSource( this.context, dbHelper );
        threadsDataSource.open();
        
        //dbHelper.fillDatabase();
        
        List<Thread> threads = threadsDataSource.getAllThreads();
        Thread[] threadsArray = threads.toArray( new Thread[ threads.size() ] );
        
        QuestionsAnswersArrayAdapter qa_adapter = QuestionsAnswersArrayAdapter( this.context, threadsArray );
	}
	
	@Override
	public void onActivityCreated(Bundle savedInstanceState) {
		super.onActivityCreated(savedInstanceState);
		String[] values = new String[] { "Android", "iPhone", "WindowsMobile",
	        "Blackberry", "WebOS", "Ubuntu", "Windows7", "Max OS X",
	        "Linux", "OS/2" };
	    ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity(),
	        android.R.layout.simple_list_item_1, values);
	    setListAdapter(adapter);
	  }

	  @Override
	  public void onListItemClick(ListView l, View v, int position, long id) {
	    // do something with the data
	  }
}
